<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chuy√™n Gia Ph√¢n T√≠ch S·ª©c Kh·ªèe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .animate-spin-slow { animation: spin 3s linear infinite; }
    </style>
</head>
<body class="bg-slate-900 text-slate-100">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- KH·∫ÆC PH·ª§C L·ªñI: D√πng Component hi·ªÉn th·ªã Emoji thay v√¨ th∆∞ vi·ªán Icon ---
        const Activity = () => <span>üíì</span>;
        const ShieldAlert = () => <span>üõ°Ô∏è</span>;
        const ChefHat = () => <span>üë®‚Äçüç≥</span>;
        const CheckCircle = () => <span>‚úÖ</span>;
        const RefreshCcw = () => <span>üîÑ</span>;
        const ArrowRight = () => <span>‚û°Ô∏è</span>;
        const Brain = ({size, className}) => <span className={className} style={{fontSize: size || 24}}>üß†</span>;
        const Info = () => <span>‚ÑπÔ∏è</span>;
        const Flame = () => <span>üî•</span>;
        const Stethoscope = ({size}) => <span style={{fontSize: size || 24}}>ü©∫</span>;
        const Wind = () => <span>üí®</span>;
        const AlertOctagon = () => <span>üõë</span>;
        const Microscope = ({size, className}) => <span className={className} style={{fontSize: size || 24}}>üî¨</span>;
        const PieChart = () => <span>üìä</span>;
        const Zap = () => <span>‚ö°</span>;
        const Filter = () => <span>üîç</span>;

        // --- D·ªÆ LI·ªÜU C√ÇU H·ªéI (GI·ªÆ NGUY√äN) ---
        const SURVEY_SECTIONS = [
          {
            id: 'env_habits',
            title: 'PH·∫¶N 1: M√îI TR∆Ø·ªúNG & V·ªÜ SINH',
            desc: 'ƒê√°nh gi√° c√°c y·∫øu t·ªë ƒë·ªôc t·ªë ngo·∫°i sinh v√† th√≥i quen v·ªá sinh.',
            questions: [
              {
                id: 'water',
                text: '1. Ngu·ªìn n∆∞·ªõc ƒÉn u·ªëng ch√≠nh c·ªßa gia ƒë√¨nh?',
                options: [
                  { text: 'N∆∞·ªõc m√°y / N∆∞·ªõc ƒë√≥ng b√¨nh chu·∫©n', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'An to√†n.' },
                  { text: 'N∆∞·ªõc m∆∞a / Gi·∫øng khoan (L·ªçc RO)', risk: { liver: 2, stomach: 1, endocrine: 0 }, advice: 'T·∫°m ·ªïn, c·∫ßn thay l√µi l·ªçc chu·∫©n.' },
                  { text: 'N∆∞·ªõc ƒëun s√¥i (Kh√¥ng qua l·ªçc)', risk: { liver: 5, stomach: 3, endocrine: 2 }, advice: 'R·ªßi ro: ƒêun s√¥i kh√¥ng lo·∫°i b·ªè ƒë∆∞·ª£c kim lo·∫°i n·∫∑ng.' },
                  { text: 'N∆∞·ªõc gi·∫øng / N∆∞·ªõc m∆∞a (D√πng tr·ª±c ti·∫øp)', risk: { liver: 10, stomach: 8, endocrine: 5 }, advice: 'NGUY HI·ªÇM: Nguy c∆° cao nhi·ªÖm Asen & Vi sinh v·∫≠t.' }
                ]
              },
              {
                id: 'plastic_hot',
                text: '2. Th√≥i quen ƒë·ª±ng ƒë·ªì ƒÉn N√ìNG (b√∫n, ph·ªü) mang v·ªÅ?',
                options: [
                  { text: 'Lu√¥n mang c·∫∑p l·ªìng Inox / B√°t s·ª©', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'Tuy·ªát v·ªùi. Kh√¥ng nhi·ªÖm nh·ª±a.' },
                  { text: 'ƒê·ª£i ngu·ªôi b·ªõt r·ªìi m·ªõi ƒë·ªï v√†o t√∫i', risk: { liver: 3, stomach: 1, endocrine: 3 }, advice: 'V·∫´n c√≤n r·ªßi ro vi nh·ª±a th·∫•p.' },
                  { text: 'ƒê·ªï v√†o h·ªôp x·ªëp/t√∫i nilon khi c√≤n ·∫•m', risk: { liver: 6, stomach: 3, endocrine: 7 }, advice: 'C·∫£nh b√°o: Nh·ª±a b·∫Øt ƒë·∫ßu ph√¢n h·ªßy ·ªü nhi·ªát ƒë·ªô ·∫•m.' },
                  { text: 'ƒê·ªï tr·ª±c ti·∫øp khi ƒëang b·ªëc kh√≥i (N√≥ng r·∫´y)', risk: { liver: 9, stomach: 5, endocrine: 12 }, advice: 'B√ÅO ƒê·ªòNG ƒê·ªé: Gi·∫£i ph√≥ng ·ªì ·∫°t Phthalates & BPA v√†o th·ª©c ƒÉn.' }
                ]
              },
              {
                id: 'pan',
                text: '3. T√¨nh tr·∫°ng ch·∫£o ch·ªëng d√≠nh ƒëang d√πng?',
                options: [
                  { text: 'Ch·∫£o Gang / Inox / ƒê√° (Kh√¥ng ph·ªß Teflon)', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'An to√†n nh·∫•t.' },
                  { text: 'Ch·∫£o ch·ªëng d√≠nh m·ªõi, ch∆∞a x∆∞·ªõc', risk: { liver: 1, stomach: 0, endocrine: 1 }, advice: 'An to√†n n·∫øu kh√¥ng ƒëun qu√° n√≥ng.' },
                  { text: 'C√≥ v√†i v·∫øt x∆∞·ªõc nh·ªè', risk: { liver: 5, stomach: 2, endocrine: 5 }, advice: 'C·∫£nh b√°o: L·ªõp ƒë·ªôc t·ªë b·∫Øt ƒë·∫ßu l·ªô ra.' },
                  { text: 'Bong tr√≥c nhi·ªÅu, l·ªô kim lo·∫°i ƒë√°y', risk: { liver: 9, stomach: 4, endocrine: 9 }, advice: 'NGUY HI·ªÇM: B·∫°n ƒëang ƒÉn PFOA (h√≥a ch·∫•t vƒ©nh c·ª≠u) m·ªói ng√†y.' }
                ]
              },
              {
                id: 'mold',
                text: '4. X·ª≠ l√Ω khi th·ª±c ph·∫©m (l·∫°c, ƒë·∫≠u, b√°nh) b·ªã m·ªëc?',
                options: [
                  { text: 'V·ª©t b·ªè to√†n b·ªô ngay l·∫≠p t·ª©c', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'Chu·∫©n x√°c.' },
                  { text: 'V·ª©t b·ªè v√πng m·ªëc + v√πng xung quanh r·ªông', risk: { liver: 4, stomach: 2, endocrine: 0 }, advice: 'R·ªßi ro: Ch√¢n n·∫•m c√≥ th·ªÉ lan xa h∆°n b·∫°n th·∫•y.' },
                  { text: 'Ch·ªâ c·∫Øt b·ªè ph·∫ßn m·ªëc nh√¨n th·∫•y', risk: { liver: 8, stomach: 5, endocrine: 0 }, advice: 'Nguy hi·ªÉm: ƒê·ªôc t·ªë v·∫´n c√≤n trong ph·∫ßn "nh√¨n c√≥ v·∫ª s·∫°ch".' },
                  { text: 'R·ª≠a s·∫°ch/N·∫•u k·ªπ l·∫°i r·ªìi ƒÉn', risk: { liver: 12, stomach: 8, endocrine: 0 }, advice: 'SAI L·∫¶M CH·∫æT NG∆Ø·ªúI: Aflatoxin b·ªÅn v·ªõi nhi·ªát, g√¢y ung th∆∞ gan.' }
                ]
              },
              {
                id: 'oil',
                text: '5. B·∫°n x·ª≠ l√Ω d·∫ßu th·ª´a sau khi chi√™n r√°n?',
                options: [
                  { text: 'ƒê·ªï b·ªè ho√†n to√†n', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'T·ªët.' },
                  { text: 'Gi·ªØ l·∫°i ƒë·ªÉ x√†o rau nh·∫π', risk: { liver: 4, stomach: 2, endocrine: 1 }, advice: 'D·∫ßu ƒë√£ b·∫Øt ƒë·∫ßu bi·∫øn ch·∫•t.' },
                  { text: 'Gi·ªØ l·∫°i kho c√° (nhi·ªát ƒë·ªô cao l√¢u)', risk: { liver: 7, stomach: 4, endocrine: 2 }, advice: 'C·∫£nh b√°o: Sinh ra nhi·ªÅu ch·∫•t oxy h√≥a.' },
                  { text: 'Gi·ªØ l·∫°i chi√™n ƒëi chi√™n l·∫°i nhi·ªÅu l·∫ßn', risk: { liver: 10, stomach: 7, endocrine: 3 }, advice: 'ƒê·ªòC H·∫†I: Ch·ª©a n·ªìng ƒë·ªô cao Aldehydes & Acrolein.' }
                ]
              },
              {
                id: 'microwave',
                text: '6. S·ª≠ d·ª•ng l√≤ vi s√≥ng (Microwave)?',
                options: [
                  { text: 'Ch·ªâ d√πng b√°t s·ª©/th·ªßy tinh', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'An to√†n.' },
                  { text: 'D√πng h·ªôp nh·ª±a "Microwave Safe" c√≤n m·ªõi', risk: { liver: 1, stomach: 0, endocrine: 2 }, advice: 'Ch·∫•p nh·∫≠n ƒë∆∞·ª£c.' },
                  { text: 'D√πng h·ªôp nh·ª±a c≈©/x∆∞·ªõc', risk: { liver: 4, stomach: 2, endocrine: 5 }, advice: 'C·∫£nh b√°o: Nh·ª±a c≈© d·ªÖ th√¥i nhi·ªÖm.' },
                  { text: 'Quay c·∫£ t√∫i nilon/m√†ng b·ªçc/h·ªôp x·ªëp', risk: { liver: 7, stomach: 3, endocrine: 10 }, advice: 'NGUY HI·ªÇM: Nh·ª±a ch·∫£y tr·ª±c ti·∫øp v√†o th·ª©c ƒÉn.' }
                ]
              },
              {
                id: 'chopsticks',
                text: '7. V·ªá sinh th·ªõt v√† ƒë≈©a ƒÉn?',
                options: [
                  { text: 'D√πng Inox / Thay m·ªõi m·ªói 6 th√°ng', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'S·∫°ch s·∫Ω.' },
                  { text: 'D√πng kho·∫£ng 1 nƒÉm m·ªõi thay', risk: { liver: 2, stomach: 2, endocrine: 0 }, advice: 'N√™n thay s·ªõm h∆°n.' },
                  { text: 'D√πng ƒë·∫øn khi g√£y h·ªèng', risk: { liver: 6, stomach: 5, endocrine: 0 }, advice: 'Nguy c∆° n·∫•m m·ªëc trong khe n·ª©t.' },
                  { text: 'V·∫´n d√πng d√π ƒë√£ m·ªëc ƒëen', risk: { liver: 10, stomach: 8, endocrine: 0 }, advice: '·ªî ch·ª©a Aflatoxin v√† E.coli.' }
                ]
              },
              {
                id: 'dishwashing',
                text: '8. C√°ch r·ª≠a b√°t ƒëƒ©a?',
                options: [
                  { text: 'R·ª≠a k·ªπ d∆∞·ªõi v√≤i n∆∞·ªõc ch·∫£y', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'S·∫°ch.' },
                  { text: 'R·ª≠a 2-3 n∆∞·ªõc trong ch·∫≠u', risk: { liver: 1, stomach: 1, endocrine: 0 }, advice: 'T∆∞∆°ng ƒë·ªëi s·∫°ch.' },
                  { text: 'Tr√°ng qua loa trong ch·∫≠u n∆∞·ªõc c≈©', risk: { liver: 4, stomach: 5, endocrine: 0 }, advice: 'Nguy c∆° t·ªìn d∆∞ h√≥a ch·∫•t v√† vi khu·∫©n.' },
                  { text: 'D√πng qu√° nhi·ªÅu n∆∞·ªõc r·ª≠a b√°t, √≠t tr√°ng', risk: { liver: 6, stomach: 6, endocrine: 2 }, advice: 'ƒÇn ph·∫£i h√≥a ch·∫•t t·∫©y r·ª≠a h√†ng ng√†y.' }
                ]
              },
              {
                id: 'smoke',
                text: '9. Kh√≥i thu·ªëc l√° trong m√¥i tr∆∞·ªùng s·ªëng?',
                options: [
                  { text: 'M√¥i tr∆∞·ªùng kh√¥ng kh√≥i thu·ªëc', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'T·ªët.' },
                  { text: 'Th·ªânh tho·∫£ng c√≥ ng∆∞·ªùi h√∫t', risk: { liver: 2, stomach: 1, endocrine: 1 }, advice: 'N√™n tr√°nh xa.' },
                  { text: 'Th∆∞·ªùng xuy√™n (H√∫t th·ª• ƒë·ªông)', risk: { liver: 6, stomach: 4, endocrine: 4 }, advice: 'Nguy c∆° ung th∆∞ ph·ªïi cao.' },
                  { text: 'B·∫£n th√¢n h√∫t thu·ªëc', risk: { liver: 10, stomach: 8, endocrine: 8 }, advice: 'T√°c nh√¢n ung th∆∞ h√†ng ƒë·∫ßu.' }
                ]
              },
              {
                id: 'thawing',
                text: '10. C√°ch r√£ ƒë√¥ng th·ª±c ph·∫©m?',
                options: [
                  { text: 'NgƒÉn m√°t t·ªß l·∫°nh (t·ª´ t·ªëi h√¥m tr∆∞·ªõc)', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'Chu·∫©n nh·∫•t.' },
                  { text: 'L√≤ vi s√≥ng', risk: { liver: 0, stomach: 1, endocrine: 0 }, advice: 'An to√†n n·∫øu n·∫•u ngay.' },
                  { text: 'Ng√¢m n∆∞·ªõc l·∫°nh (c√≥ b·ªçc k√≠n)', risk: { liver: 2, stomach: 3, endocrine: 0 }, advice: 'T·∫°m ·ªïn.' },
                  { text: 'Ng√¢m tr·ª±c ti·∫øp n∆∞·ªõc l√£ / ƒê·ªÉ nhi·ªát ƒë·ªô ph√≤ng', risk: { liver: 5, stomach: 8, endocrine: 0 }, advice: 'Vi khu·∫©n sinh s√¥i g·∫•p ng√†n l·∫ßn.' }
                ]
              }
            ]
          },
          {
            id: 'diet_habits',
            title: 'PH·∫¶N 2: TH√ìI QUEN ƒÇN U·ªêNG',
            desc: 'Ph√¢n t√≠ch ch·∫ø ƒë·ªô dinh d∆∞·ª°ng h√†ng ng√†y.',
            questions: [
              {
                id: 'veggies',
                text: '11. T·ª∑ l·ªá rau xanh trong kh·∫©u ph·∫ßn ƒÉn?',
                options: [
                  { text: '> 50% (ƒÇn rau nhi·ªÅu h∆°n c∆°m/th·ªãt)', risk: { liver: -5, stomach: -5, endocrine: -5 }, advice: 'Tuy·ªát v·ªùi: Gi√†u ch·∫•t x∆° th·∫£i ƒë·ªôc.' },
                  { text: 'Kho·∫£ng 30% (C√≥ b√°t canh/ƒëƒ©a rau)', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'M·ª©c trung b√¨nh.' },
                  { text: 'R·∫•t √≠t (Ch·ªâ v√†i c·ªçng h√†nh/rau th∆°m)', risk: { liver: 5, stomach: 4, endocrine: 3 }, advice: 'Thi·∫øu h·ª•t: C∆° th·ªÉ kh√¥ng ƒë·ªß ch·∫•t ch·ªëng oxy h√≥a.' },
                  { text: 'G·∫ßn nh∆∞ kh√¥ng ƒÉn rau', risk: { liver: 8, stomach: 7, endocrine: 6 }, advice: 'L·ªñ H·ªîNG L·ªöN: Nguy c∆° t√°o b√≥n v√† t√≠ch t·ª• ƒë·ªôc t·ªë ru·ªôt.' }
                ]
              },
              {
                id: 'processed_meat',
                text: '12. T·∫ßn su·∫•t ƒÉn th·ªãt ch·∫ø bi·∫øn s·∫µn (X√∫c x√≠ch, th·ªãt h·ªôp)?',
                options: [
                  { text: 'Kh√¥ng bao gi·ªù / R·∫•t hi·∫øm', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'T·ªët.' },
                  { text: 'Th·ªânh tho·∫£ng (1-2 l·∫ßn/th√°ng)', risk: { liver: 2, stomach: 3, endocrine: 1 }, advice: 'Ch·∫•p nh·∫≠n ƒë∆∞·ª£c.' },
                  { text: 'Th∆∞·ªùng xuy√™n (1-2 l·∫ßn/tu·∫ßn)', risk: { liver: 5, stomach: 7, endocrine: 3 }, advice: 'C·∫£nh b√°o: T√≠ch t·ª• Nitrosamine.' },
                  { text: 'H√†ng ng√†y (L√† m√≥n ch√≠nh)', risk: { liver: 8, stomach: 12, endocrine: 5 }, advice: 'NGUY C∆† CAO: Nh√≥m ch·∫•t g√¢y ung th∆∞ lo·∫°i 1.' }
                ]
              },
              {
                id: 'red_meat',
                text: '13. T·∫ßn su·∫•t ƒÉn th·ªãt ƒë·ªè (B√≤, l·ª£n, tr√¢u, d√™)?',
                options: [
                  { text: '1-2 l·∫ßn/tu·∫ßn (∆Øu ti√™n c√°/gia c·∫ßm)', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'C√¢n b·∫±ng.' },
                  { text: '3-4 l·∫ßn/tu·∫ßn', risk: { liver: 2, stomach: 2, endocrine: 1 }, advice: 'H∆°i nhi·ªÅu.' },
                  { text: 'ƒÇn h√†ng ng√†y', risk: { liver: 5, stomach: 6, endocrine: 2 }, advice: 'G√°nh n·∫∑ng cho ƒë∆∞·ªùng ru·ªôt.' },
                  { text: 'ƒÇn m·ªói b·ªØa (Th√≠ch th·ªãt h∆°n rau)', risk: { liver: 8, stomach: 9, endocrine: 4 }, advice: 'TƒÉng nguy c∆° ung th∆∞ ƒë·∫°i tr·ª±c tr√†ng.' }
                ]
              },
              {
                id: 'pickles',
                text: '14. Th√≥i quen ƒÉn d∆∞a c√† mu·ªëi?',
                options: [
                  { text: 'Kh√¥ng ƒÉn / Ch·ªâ ƒÉn d∆∞a ch√≠n v√†ng', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'T·ªët.' },
                  { text: 'Th·ªânh tho·∫£ng ƒÉn d∆∞a x·ªïi', risk: { liver: 2, stomach: 3, endocrine: 0 }, advice: 'H·∫°n ch·∫ø.' },
                  { text: 'Th∆∞·ªùng xuy√™n ƒÉn d∆∞a c√† n√©n', risk: { liver: 4, stomach: 5, endocrine: 0 }, advice: 'Nhi·ªÅu mu·ªëi h·∫°i d·∫° d√†y.' },
                  { text: 'Nghi·ªán d∆∞a mu·ªëi x·ªïi (c√≤n xanh, hƒÉng)', risk: { liver: 6, stomach: 10, endocrine: 0 }, advice: 'Ch·ª©a h√†m l∆∞·ª£ng Nitrit c·ª±c cao.' }
                ]
              },
              {
                id: 'temp',
                text: '15. Nhi·ªát ƒë·ªô th·ª©c ƒÉn ∆∞a th√≠ch?',
                options: [
                  { text: 'Ngu·ªôi / M√°t', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'An to√†n.' },
                  { text: '·∫§m v·ª´a ph·∫£i', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'T·ªët nh·∫•t cho ti√™u h√≥a.' },
                  { text: 'N√≥ng (V·ª´a th·ªïi v·ª´a ƒÉn)', risk: { liver: 0, stomach: 5, endocrine: 0 }, advice: 'C·∫©n th·∫≠n ni√™m m·∫°c.' },
                  { text: 'R·∫•t n√≥ng (B·ªèng r√°t l∆∞·ª°i m·ªõi ngon)', risk: { liver: 0, stomach: 12, endocrine: 0 }, advice: 'NGUY HI·ªÇM: G√¢y vi√™m teo v√† ung th∆∞ th·ª±c qu·∫£n.' }
                ]
              },
              {
                id: 'alcohol',
                text: '16. M·ª©c ƒë·ªô s·ª≠ d·ª•ng r∆∞·ª£u bia?',
                options: [
                  { text: 'Kh√¥ng u·ªëng', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'Gan ƒë∆∞·ª£c b·∫£o v·ªá t·ªëi ƒëa.' },
                  { text: 'X√£ giao (1-2 ch√©n/th√°ng)', risk: { liver: 2, stomach: 1, endocrine: 1 }, advice: 'Gan ƒë·ªß s·ª©c ph·ª•c h·ªìi.' },
                  { text: 'Th∆∞·ªùng xuy√™n (Tu·∫ßn n√†o c≈©ng nh·∫≠u)', risk: { liver: 7, stomach: 5, endocrine: 4 }, advice: 'G√°nh n·∫∑ng l·ªõn cho gan.' },
                  { text: 'H√†ng ng√†y / Nghi·ªán r∆∞·ª£u', risk: { liver: 12, stomach: 8, endocrine: 7 }, advice: 'B√ÅO ƒê·ªòNG: Acetaldehyde ph√° h·ªßy t·∫ø b√†o gan tr·ª±c ti·∫øp.' }
                ]
              },
              {
                id: 'grill',
                text: '17. Th√≥i quen ƒÉn ƒë·ªì n∆∞·ªõng/chi√™n r√°n?',
                options: [
                  { text: 'H·∫•p lu·ªôc l√† ch√≠nh', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'L√†nh m·∫°nh.' },
                  { text: 'Th·ªânh tho·∫£ng (Cu·ªëi tu·∫ßn)', risk: { liver: 2, stomach: 1, endocrine: 0 }, advice: 'Ch·∫•p nh·∫≠n ƒë∆∞·ª£c.' },
                  { text: 'Th∆∞·ªùng xuy√™n (3-4 l·∫ßn/tu·∫ßn)', risk: { liver: 5, stomach: 4, endocrine: 2 }, advice: 'N·∫°p nhi·ªÅu ch·∫•t oxy h√≥a.' },
                  { text: 'R·∫•t th√≠ch ƒÉn ch√°y c·∫°nh/gi√≤n tan', risk: { liver: 8, stomach: 7, endocrine: 3 }, advice: 'Ch·ª©a HCA v√† PAH g√¢y ƒë·ªôt bi·∫øn gen.' }
                ]
              },
              {
                id: 'fruits',
                text: '18. ƒÇn tr√°i c√¢y h√†ng ng√†y?',
                options: [
                  { text: 'ƒÇn ƒëa d·∫°ng c√°c lo·∫°i m·ªói ng√†y', risk: { liver: -3, stomach: -2, endocrine: -2 }, advice: 'T·ªët.' },
                  { text: 'Th∆∞·ªùng xuy√™n (3-4 l·∫ßn/tu·∫ßn)', risk: { liver: -1, stomach: -1, endocrine: -1 }, advice: 'Kh√°.' },
                  { text: 'Th·ªânh tho·∫£ng m·ªõi ƒÉn', risk: { liver: 2, stomach: 1, endocrine: 0 }, advice: 'Thi·∫øu Vitamin.' },
                  { text: 'G·∫ßn nh∆∞ kh√¥ng ƒÉn', risk: { liver: 4, stomach: 3, endocrine: 1 }, advice: 'Thi·∫øu h·ª•t vi ch·∫•t b·∫£o v·ªá.' }
                ]
              },
              {
                id: 'nuts',
                text: '19. ƒÇn c√°c lo·∫°i h·∫°t (L·∫°c, v·ª´ng, √≥c ch√≥)?',
                options: [
                  { text: 'Th∆∞·ªùng xuy√™n (l√†m b·ªØa ph·ª•)', risk: { liver: -2, stomach: 0, endocrine: -2 }, advice: 'Gi√†u Omega-3.' },
                  { text: 'Th·ªânh tho·∫£ng', risk: { liver: 0, stomach: 0, endocrine: 0 }, advice: 'T·ªët.' },
                  { text: 'Hi·∫øm khi', risk: { liver: 1, stomach: 0, endocrine: 0 }, advice: 'B·ªè l·ª° ngu·ªìn ch·∫•t b√©o t·ªët.' },
                  { text: 'Kh√¥ng ƒÉn', risk: { liver: 2, stomach: 0, endocrine: 0 }, advice: 'Thi·∫øu Selen.' }
                ]
              },
              {
                id: 'spices',
                text: '20. S·ª≠ d·ª•ng gia v·ªã th·∫£o m·ªôc (T·ªèi, ngh·ªá, g·ª´ng)?',
                options: [
                  { text: 'D√πng r·∫•t nhi·ªÅu trong m·ªçi m√≥n', risk: { liver: -4, stomach: -3, endocrine: -2 }, advice: 'Kh√°ng sinh t·ª± nhi√™n c·ª±c m·∫°nh.' },
                  { text: 'D√πng b√¨nh th∆∞·ªùng', risk: { liver: -1, stomach: -1, endocrine: 0 }, advice: 'T·ªët.' },
                  { text: '√çt d√πng', risk: { liver: 2, stomach: 1, endocrine: 0 }, advice: 'N√™n tƒÉng c∆∞·ªùng.' },
                  { text: 'Kh√¥ng ƒÉn ƒë∆∞·ª£c / Gh√©t m√πi', risk: { liver: 4, stomach: 3, endocrine: 1 }, advice: 'Thi·∫øu h·ª•t ch·∫•t kh√°ng vi√™m t·ª± nhi√™n.' }
                ]
              }
            ]
          }
        ];

        const calculateStats = (answers) => {
          let scores = {
            liver: 0, stomach: 0, endocrine: 0,
            totalToxin: 0, protection: 0,
            inflammatory: 0,
            acidic: 0,
            antioxidant: 0
          };
           
          let criticalIssues = [];
          let dietProfile = { type: '', desc: '' };

          SURVEY_SECTIONS.forEach(section => {
            section.questions.forEach(q => {
              const ansIdx = answers[q.id];
              if (ansIdx !== undefined) {
                const opt = q.options[ansIdx];
                
                scores.liver += opt.risk.liver;
                scores.stomach += opt.risk.stomach;
                scores.endocrine += opt.risk.endocrine;

                const riskSum = Math.max(0, opt.risk.liver) + Math.max(0, opt.risk.stomach) + Math.max(0, opt.risk.endocrine);
                if (riskSum > 0) scores.totalToxin += riskSum;
                
                const protectSum = Math.min(0, opt.risk.liver) + Math.min(0, opt.risk.stomach) + Math.min(0, opt.risk.endocrine);
                scores.protection += Math.abs(protectSum);

                if (['processed_meat', 'oil', 'alcohol', 'red_meat', 'grill'].includes(q.id)) {
                  if (ansIdx >= 2) scores.inflammatory += 20;
                }
                if (['veggies', 'fruits', 'spices'].includes(q.id)) {
                  if (ansIdx <= 1) scores.antioxidant += 25;
                  if (ansIdx >= 2) scores.acidic += 15;
                }
                if (q.id === 'temp' && ansIdx === 3) scores.inflammatory += 15;

                if (ansIdx === 3) {
                  criticalIssues.push({ question: q.text, answer: opt.text, advice: opt.advice });
                }
              }
            });
          });

          if (scores.inflammatory > 30) {
            dietProfile = { 
              type: 'CH·∫æ ƒê·ªò ƒÇN G√ÇY VI√äM', 
              desc: 'B·∫°n ƒëang n·∫°p qu√° nhi·ªÅu t√°c nh√¢n g√¢y s∆∞ng/vi√™m t·∫ø b√†o (ƒê∆∞·ªùng, m·ª° x·∫•u, h√≥a ch·∫•t). ƒê√¢y l√† m√¥i tr∆∞·ªùng l√Ω t∆∞·ªüng ƒë·ªÉ t·∫ø b√†o ung th∆∞ ph√°t tri·ªÉn.' 
            };
          } else if (scores.antioxidant < 20) {
            dietProfile = { 
              type: 'CH·∫æ ƒê·ªò ƒÇN THI·∫æU H·ª§T', 
              desc: 'B·∫°n kh√¥ng nh·∫•t thi·∫øt ƒÉn ƒë·ªì ƒë·ªôc, nh∆∞ng b·∫°n ƒëang "b·ªè ƒë√≥i" h·ªá mi·ªÖn d·ªãch v√¨ thi·∫øu rau xanh v√† gia v·ªã b·∫£o v·ªá.' 
            };
          } else {
            dietProfile = { 
              type: 'CH·∫æ ƒê·ªò ƒÇN C√ÇN B·∫∞NG', 
              desc: 'B·∫°n c√≥ s·ª± c√¢n b·∫±ng t·ªët gi·ªØa nh√≥m ƒëa l∆∞·ª£ng v√† vi l∆∞·ª£ng. H·ªá mi·ªÖn d·ªãch ƒëang ho·∫°t ƒë·ªông hi·ªáu qu·∫£.' 
            };
          }

          return { scores, criticalIssues, dietProfile };
        };

        const generateMenu = (analysis) => {
          const { criticalIssues, dietProfile } = analysis;
          let menu = [];

          if (dietProfile.type.includes('G√ÇY VI√äM')) {
            menu = [
              { meal: 'S√°ng', dish: 'Y·∫øn m·∫°ch n·∫•u s·ªØa h·∫°t / Tr·ª©ng lu·ªôc', note: 'Tuy·ªát ƒë·ªëi tr√°nh ƒë·ªì chi√™n r√°n, b√∫n ph·ªü nhi·ªÅu m·ª°.' },
              { meal: 'Tr∆∞a', dish: 'C√° h·∫•p g·ª´ng + Rau c·∫£i lu·ªôc (300g)', note: 'TƒÉng c∆∞·ªùng Omega-3 kh√°ng vi√™m.' },
              { meal: 'Chi·ªÅu', dish: 'N∆∞·ªõc √©p C·∫ßn t√¢y / ·ªîi', note: 'Th·∫£i ƒë·ªôc c·∫•p t·ªëc.' },
              { meal: 'T·ªëi', dish: 'Salad ·ª©c g√† d·∫ßu √¥ liu', note: 'Nh·∫π b·ª•ng, gi·∫£m √°p l·ª±c cho gan.' }
            ];
          } else if (dietProfile.type.includes('THI·∫æU H·ª§T')) {
            menu = [
              { meal: 'S√°ng', dish: 'B√°nh m√¨ nguy√™n c√°m + B∆° s√°p', note: 'B·ªï sung ch·∫•t b√©o t·ªët.' },
              { meal: 'Tr∆∞a', dish: 'C∆°m g·∫°o l·ª©t + T√¥m rim ngh·ªá + Canh b·∫ßu', note: 'Ngh·ªá gi√∫p k√≠ch ho·∫°t h·ªá mi·ªÖn d·ªãch.' },
              { meal: 'Chi·ªÅu', dish: 'S·ªØa chua + H·∫°t (√ìc ch√≥/H·∫°nh nh√¢n)', note: 'B·ªï sung vi kho√°ng.' },
              { meal: 'T·ªëi', dish: 'S√∫p b√≠ ƒë·ªè th·ªãt b·∫±m', note: 'Gi√†u Beta-carotene b·∫£o v·ªá ni√™m m·∫°c.' }
            ];
          } else {
            menu = [
              { meal: 'S√°ng', dish: 'Ph·ªü b√≤ ch√≠n (N·∫•u t·∫°i nh√†/Qu√°n s·∫°ch)', note: 'Duy tr√¨ th√≥i quen t·ªët.' },
              { meal: 'Tr∆∞a', dish: 'C∆°m tr·∫Øng + Th·ªãt kho tr·ª©ng + D∆∞a chua ch√≠n t·ªõi', note: 'C√¢n b·∫±ng ƒë·∫°m v√† men vi sinh.' },
              { meal: 'Chi·ªÅu', dish: 'Tr√°i c√¢y theo m√πa', note: 'Vitamin t·ª± nhi√™n.' },
              { meal: 'T·ªëi', dish: 'Canh cua m·ªìng t∆°i + ƒê·∫≠u ph·ª• l∆∞·ªõt v√°n', note: 'ƒê·∫°m th·ª±c v·∫≠t l√†nh m·∫°nh.' }
            ];
          }

          const plasticIssue = criticalIssues.find(c => c.question.includes('ƒë·ªì ƒÉn N√ìNG'));
          if (plasticIssue) {
            menu.push({ meal: 'L∆ØU √ù QUAN TR·ªåNG', dish: 'TUY·ªÜT ƒê·ªêI KH√îNG D√ôNG T√öI NILON', note: 'H√£y mua c·∫∑p l·ªìng Inox ngay h√¥m nay. ƒê√¢y l√† vi·ªác quan tr·ªçng nh·∫•t b·∫°n c·∫ßn l√†m.' });
          }

          return menu;
        };

        // --- COMPONENT CH√çNH ---
        function AntiCancerExpertUltimate() {
          const [step, setStep] = useState('intro'); 
          const [currentSection, setCurrentSection] = useState(0);
          const [answers, setAnswers] = useState({});
          const [analysis, setAnalysis] = useState(null);

          const handleAnswer = (qId, optIdx) => {
            setAnswers(prev => ({ ...prev, [qId]: optIdx }));
          };

          const nextSection = () => {
            if (currentSection < SURVEY_SECTIONS.length - 1) {
              setCurrentSection(prev => prev + 1);
              window.scrollTo(0,0);
            } else {
              setStep('analyzing');
              setAnalysis(calculateStats(answers));
              setTimeout(() => setStep('result'), 2500);
            }
          };

          const IntroScreen = () => (
            <div className="min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden">
              <div className="absolute inset-0 bg-cover opacity-10 blur-sm" style={{backgroundImage: "url('https://images.unsplash.com/photo-1584036561566-b9397f803add?q=80&w=1000&auto=format&fit=crop')"}}></div>
              <div className="z-10 text-center max-w-3xl">
                <div className="flex justify-center mb-6">
                  <div className="bg-emerald-500/20 p-5 rounded-full border-2 border-emerald-400/30 shadow-[0_0_30px_rgba(16,185,129,0.3)]">
                    <Microscope size={56} className="text-emerald-400" />
                  </div>
                </div>
                <div className="inline-block bg-emerald-900/50 border border-emerald-500/30 rounded-full px-4 py-1 text-sm text-emerald-300 font-bold mb-4 tracking-wider">
                  PHI√äN B·∫¢N FINAL - ULTIMATE EDITION
                </div>
                <h1 className="text-4xl md:text-6xl font-black mb-6 tracking-tight leading-tight">
                  CHUY√äN GIA <span className="text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400">PH√ÇN T√çCH UNG TH∆Ø</span>
                </h1>
                <p className="text-slate-300 text-lg md:text-xl mb-10 leading-relaxed max-w-2xl mx-auto">
                  H·ªá th·ªëng AI th·∫ø h·ªá m·ªõi v·ªõi ƒë·ªô ph√¢n gi·∫£i <strong>4 c·∫•p ƒë·ªô r·ªßi ro</strong>.
                  <br/>Ph√¢n t√≠ch kh√¥ng ch·ªâ nguy c∆° b·ªánh l√Ω m√† c√≤n <strong className="text-white">gi·∫£i m√£ ch·∫ø ƒë·ªô dinh d∆∞·ª°ng</strong> hi·ªán t·∫°i c·ªßa b·∫°n.
                </p>
                <button onClick={() => setStep('survey')} className="bg-emerald-500 hover:bg-emerald-400 text-slate-900 font-bold px-10 py-5 rounded-2xl text-xl transition-all shadow-[0_0_20px_rgba(16,185,129,0.5)] flex items-center gap-3 mx-auto transform hover:scale-105 active:scale-95">
                  <Stethoscope size={24} /> B·∫Øt ƒë·∫ßu Kh√°m
                </button>
              </div>
            </div>
          );

          const SurveyScreen = () => (
            <div className="min-h-screen bg-slate-50 pb-20 text-slate-900">
              <div className="bg-white sticky top-0 z-20 shadow-sm border-b border-slate-200">
                <div className="max-w-4xl mx-auto px-4 py-4">
                  <div className="flex justify-between items-center text-sm font-bold text-slate-500 uppercase mb-2">
                    <span>Ti·∫øn ƒë·ªô ph√¢n t√≠ch</span>
                    <span>{currentSection + 1}/{SURVEY_SECTIONS.length}</span>
                  </div>
                  <div className="h-2 bg-slate-100 rounded-full overflow-hidden">
                    <div className="h-full bg-emerald-500 transition-all duration-500" style={{ width: `${((currentSection + 1) / SURVEY_SECTIONS.length) * 100}%` }}></div>
                  </div>
                </div>
              </div>

              <div className="max-w-4xl mx-auto px-4 py-8">
                <div className="mb-8">
                  <h2 className="text-3xl font-bold text-slate-800 mb-2">{SURVEY_SECTIONS[currentSection].title}</h2>
                  <p className="text-slate-500 text-lg">{SURVEY_SECTIONS[currentSection].desc}</p>
                </div>

                <div className="space-y-8">
                  {SURVEY_SECTIONS[currentSection].questions.map((q, idx) => (
                    <div key={q.id} className="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                      <h3 className="font-bold text-lg text-slate-800 mb-4 flex gap-3">
                        <span className="bg-slate-100 text-slate-600 w-8 h-8 rounded-full flex items-center justify-center text-sm shrink-0 mt-0.5">{idx + 1}</span>
                        {q.text}
                      </h3>
                      <div className="grid md:grid-cols-2 gap-3">
                        {q.options.map((opt, optIdx) => (
                          <button
                            key={optIdx}
                            onClick={() => handleAnswer(q.id, optIdx)}
                            className={`text-left p-4 rounded-xl border-2 transition-all flex flex-col gap-1 relative ${
                              answers[q.id] === optIdx
                                ? 'border-emerald-500 bg-emerald-50/50 text-emerald-900 shadow-md ring-1 ring-emerald-500'
                                : 'border-slate-100 bg-slate-50 hover:bg-white hover:border-emerald-200'
                            }`}
                          >
                            <span className="font-bold text-sm">{opt.text}</span>
                            {answers[q.id] === optIdx && (
                              <div className="absolute top-3 right-3 text-emerald-600"><CheckCircle size={18}/></div>
                            )}
                          </button>
                        ))}
                      </div>
                    </div>
                  ))}
                </div>

                <div className="mt-12 flex justify-end">
                  <button
                    onClick={nextSection}
                    disabled={!SURVEY_SECTIONS[currentSection].questions.every(q => answers[q.id] !== undefined)}
                    className={`px-8 py-4 rounded-xl font-bold text-lg flex items-center gap-2 transition-all ${
                      SURVEY_SECTIONS[currentSection].questions.every(q => answers[q.id] !== undefined)
                        ? 'bg-slate-900 text-white hover:bg-slate-800 shadow-xl transform hover:-translate-y-1'
                        : 'bg-slate-200 text-slate-400 cursor-not-allowed'
                    }`}
                  >
                    {currentSection === SURVEY_SECTIONS.length - 1 ? 'X·ª≠ l√Ω D·ªØ li·ªáu' : 'Ti·∫øp t·ª•c'} <ArrowRight />
                  </button>
                </div>
              </div>
            </div>
          );

          const AnalyzingScreen = () => (
            <div className="min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center text-center p-6">
              <div className="relative w-40 h-40 mb-8">
                <div className="absolute inset-0 border-4 border-slate-700 rounded-full"></div>
                <div className="absolute inset-0 border-4 border-emerald-500 rounded-full border-t-transparent animate-spin"></div>
                <Brain size={64} className="absolute inset-0 m-auto text-emerald-500 animate-pulse" />
              </div>
              <h2 className="text-3xl font-bold mb-4">AI ƒëang ph√¢n t√≠ch h·ªì s∆°...</h2>
              <div className="space-y-3 text-emerald-400/80 font-mono text-sm text-left inline-block">
                <p className="animate-pulse flex items-center gap-2"><CheckCircle size={14}/> ƒêang qu√©t 4 c·∫•p ƒë·ªô r·ªßi ro...</p>
                <p className="animate-pulse delay-150 flex items-center gap-2"><CheckCircle size={14}/> ƒêang t√≠nh to√°n t·∫£i l∆∞·ª£ng Axit/Ki·ªÅm...</p>
                <p className="animate-pulse delay-300 flex items-center gap-2"><CheckCircle size={14}/> ƒêang ƒëo l∆∞·ªùng ch·ªâ s·ªë Oxy h√≥a...</p>
                <p className="animate-pulse delay-500 flex items-center gap-2"><CheckCircle size={14}/> ƒêang l·∫≠p ph√°c ƒë·ªì dinh d∆∞·ª°ng...</p>
              </div>
            </div>
          );

          const ResultScreen = () => {
            const { scores, criticalIssues, dietProfile } = analysis;
            const liverPercent = Math.min(100, (scores.liver / 40) * 100);
            const stomachPercent = Math.min(100, (scores.stomach / 40) * 100);
            
            return (
              <div className="min-h-screen bg-slate-50 pb-20 font-sans text-slate-900">
                <div className="bg-slate-900 text-white p-6 pb-24 shadow-2xl relative overflow-hidden">
                  <div className="max-w-5xl mx-auto relative z-10">
                    <div className="flex justify-between items-start mb-8">
                       <div className="flex items-center gap-3">
                         <div className="bg-white/10 p-2 rounded-lg backdrop-blur"><Activity /></div>
                         <div>
                           <h1 className="text-2xl font-bold">B√ÅO C√ÅO PH√ÇN T√çCH CHUY√äN S√ÇU</h1>
                           <p className="text-slate-400 text-sm">M√£ h·ªì s∆°: #AI-FINAL-2024</p>
                         </div>
                       </div>
                       <button onClick={() => window.location.reload()} className="p-2 hover:bg-white/10 rounded-full transition"><RefreshCcw/></button>
                    </div>
                  </div>
                  <div className="absolute -bottom-10 -right-10 w-96 h-96 bg-emerald-500/20 rounded-full blur-3xl"></div>
                </div>

                <div className="max-w-5xl mx-auto px-4 -mt-16 space-y-8 relative z-20">
                  <div className="bg-white rounded-3xl p-8 shadow-xl border-t-8 border-emerald-500 grid md:grid-cols-2 gap-8 items-center">
                    <div>
                      <div className="flex items-center gap-2 text-emerald-600 font-bold mb-2 tracking-wider uppercase text-sm">
                        <PieChart size={18}/> Dinh d∆∞·ª°ng hi·ªán t·∫°i c·ªßa b·∫°n
                      </div>
                      <h2 className="text-3xl font-black text-slate-800 mb-4">{dietProfile.type}</h2>
                      <p className="text-slate-600 text-lg leading-relaxed">{dietProfile.desc}</p>
                    </div>
                    <div className="bg-slate-50 p-6 rounded-2xl border border-slate-100">
                      <h3 className="font-bold text-slate-700 mb-4 flex items-center gap-2"><Zap size={18}/> Ch·ªâ s·ªë Sinh h√≥a (∆Ø·ªõc t√≠nh):</h3>
                      <div className="space-y-4">
                        <div>
                          <div className="flex justify-between text-sm mb-1">
                            <span className="text-slate-600">M·ª©c ƒë·ªô G√¢y vi√™m</span>
                            <span className="font-bold text-red-500">{scores.inflammatory > 30 ? 'CAO' : 'TH·∫§P'}</span>
                          </div>
                          <div className="h-2 bg-slate-200 rounded-full"><div className={`h-full rounded-full ${scores.inflammatory > 30 ? 'bg-red-500' : 'bg-emerald-500'}`} style={{width: `${Math.min(100, scores.inflammatory*1.5)}%`}}></div></div>
                        </div>
                        <div>
                          <div className="flex justify-between text-sm mb-1">
                            <span className="text-slate-600">Kh·∫£ nƒÉng Ch·ªëng Oxy h√≥a</span>
                            <span className="font-bold text-blue-500">{scores.antioxidant > 20 ? 'T·ªêT' : 'Y·∫æU'}</span>
                          </div>
                          <div className="h-2 bg-slate-200 rounded-full"><div className={`h-full rounded-full ${scores.antioxidant > 20 ? 'bg-blue-500' : 'bg-orange-400'}`} style={{width: `${Math.min(100, scores.antioxidant*2)}%`}}></div></div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div className="grid md:grid-cols-2 gap-6">
                    <div className="bg-white p-6 rounded-3xl shadow-lg border border-slate-100">
                      <h3 className="font-bold text-slate-700 flex items-center gap-2 mb-4"><Filter size={20}/> R·ª¶I RO GAN (Liver)</h3>
                      <div className="flex items-end gap-2 mb-2">
                        <span className="text-4xl font-black text-slate-800">{liverPercent.toFixed(0)}%</span>
                        <span className="text-sm text-slate-400 mb-1">m·ª©c ƒë·ªô t·ªïn th∆∞∆°ng</span>
                      </div>
                      <div className="h-3 bg-slate-100 rounded-full overflow-hidden">
                        <div className={`h-full transition-all duration-1000 ${liverPercent > 50 ? 'bg-red-500' : 'bg-emerald-500'}`} style={{width: `${liverPercent}%`}}></div>
                      </div>
                      <p className="mt-3 text-sm text-slate-500">ƒê·∫øn t·ª´: N·∫•m m·ªëc (Aflatoxin), R∆∞·ª£u, Nh·ª±a.</p>
                    </div>

                    <div className="bg-white p-6 rounded-3xl shadow-lg border border-slate-100">
                      <h3 className="font-bold text-slate-700 flex items-center gap-2 mb-4"><Flame size={20}/> R·ª¶I RO D·∫† D√ÄY (Stomach)</h3>
                      <div className="flex items-end gap-2 mb-2">
                        <span className="text-4xl font-black text-slate-800">{stomachPercent.toFixed(0)}%</span>
                        <span className="text-sm text-slate-400 mb-1">m·ª©c ƒë·ªô t·ªïn th∆∞∆°ng</span>
                      </div>
                      <div className="h-3 bg-slate-100 rounded-full overflow-hidden">
                        <div className={`h-full transition-all duration-1000 ${stomachPercent > 50 ? 'bg-red-500' : 'bg-emerald-500'}`} style={{width: `${stomachPercent}%`}}></div>
                      </div>
                      <p className="mt-3 text-sm text-slate-500">ƒê·∫øn t·ª´: Nhi·ªát ƒë·ªô th·ª©c ƒÉn, Vi khu·∫©n, Mu·ªëi Nitrit.</p>
                    </div>
                  </div>

                  {criticalIssues.length > 0 && (
                    <div className="bg-red-50 border-2 border-red-500 rounded-3xl p-8 shadow-sm animate-pulse-slow">
                      <h3 className="text-2xl font-black text-red-700 mb-6 flex items-center gap-3">
                        <AlertOctagon size={32} /> C√ÅC Y·∫æU T·ªê "T·ª¨ TH·∫¶N" C·∫¶N LO·∫†I B·ªé NGAY
                      </h3>
                      <div className="grid gap-4">
                        {criticalIssues.map((issue, idx) => (
                          <div key={idx} className="bg-white p-5 rounded-xl shadow-sm border border-red-100 flex flex-col md:flex-row gap-4 items-start">
                            <div className="bg-red-100 text-red-600 font-bold px-3 py-1 rounded text-sm shrink-0">B√°o ƒë·ªông #{idx+1}</div>
                            <div>
                              <p className="text-slate-500 text-sm mb-1">{issue.question}</p>
                              <p className="font-bold text-red-600 text-lg mb-2">{issue.answer}</p>
                              <p className="text-slate-700 bg-slate-50 p-2 rounded text-sm"><span className="font-bold">B√°c sƒ© khuy√™n:</span> {issue.advice}</p>
                            </div>
                          </div>
                        ))}
                      </div>
                    </div>
                  )}

                  <div className="bg-white rounded-3xl overflow-hidden shadow-xl border border-slate-100">
                    <div className="bg-emerald-50 p-6 border-b border-emerald-100 flex items-center gap-3">
                      <div className="bg-emerald-200 p-2 rounded text-emerald-800"><ChefHat /></div>
                      <div>
                        <h3 className="text-xl font-bold text-slate-800">Ph√°c ƒê·ªì Dinh D∆∞·ª°ng ƒêi·ªÅu Tr·ªã</h3>
                        <p className="text-emerald-700 text-sm">ƒê∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ kh·∫Øc ph·ª•c: {dietProfile.type}</p>
                      </div>
                    </div>
                    <div className="p-6 grid md:grid-cols-2 gap-4">
                      {generateMenu({ criticalIssues, dietProfile }).map((item, idx) => (
                        <div key={idx} className="flex gap-4 p-4 rounded-xl border border-slate-100 hover:border-emerald-400 hover:shadow-md transition-all bg-white">
                          <div className="shrink-0 w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center font-bold text-slate-500 text-xs uppercase">
                            {item.meal.slice(0,3)}
                          </div>
                          <div>
                            <h4 className="font-bold text-lg text-slate-800">{item.dish}</h4>
                            <p className="text-slate-500 text-sm flex items-start gap-1 mt-1">
                              <Info size={14} className="text-blue-500 shrink-0 mt-0.5"/> {item.note}
                            </p>
                          </div>
                        </div>
                      ))}
                    </div>
                  </div>

                </div>
              </div>
            );
          };

          const root = ReactDOM.createRoot(document.getElementById('root'));
          root.render(<AntiCancerExpertUltimate />);
    </script>
</body>
</html>
